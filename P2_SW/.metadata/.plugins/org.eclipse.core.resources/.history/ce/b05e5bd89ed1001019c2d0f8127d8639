#include "TempSensor.h"
#include "LCD_GUI.h"

extern int read_tmp();

void TempSensor_init(TempSensor *ts)
{
    ts->current_temp = 25;
    ts->player_color = YELLOW;
}

void TempSensor_update(TempSensor *ts)
{
    ts->current_temp = read_tmp();

    int t = ts->current_temp;
    COLOR new_color;

    if (t <= 25)          new_color = BLUE;    // muy frío
    else if (t <= 27)     new_color = CYAN;
    else if (t <= 29)     new_color = GREEN;
    else if (t <= 31)     new_color = YELLOW;
    else if (t <= 33)     new_color = ORANGE;
    else                  new_color = RED;     // muy caliente

    ts->player_color = new_color;
}
